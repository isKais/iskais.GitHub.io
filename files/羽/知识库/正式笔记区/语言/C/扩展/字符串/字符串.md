# 字符串 Overview
 
```ccard
type: folder_brief_live
```
 
"这里是字符串"其实是一个指针 直接使用%P打印出来的话就是一串地址
而字符串 究其根源是一个随用随弃的char数组, 它没有自己的名字(也不需要), 调用它的唯一方法就是在创建的时候使用其本身
字符串我认为应该是长这样
`{'t', 'h', 'i', 's', '\0'}` 所以可以使用下面的方法定义字符串数组, 亦可以使用下面的方法%p和`*"字符串"`

字符串使用char数组作为储存方式, 所以%p打出的地址就是字符串第一位字符的地址, 但此时该地址也表示整个字符串, 如果使用`*"字符串"`

捂脸 可以使用这种办法
#定义字符串数组
`char ml[40] = "这里是字符串啊啊啊"`这是由于字符串实际上就是一个数组的一半结构

在初始化数组的时候, 没有用到的地方都会被初始化为`\0`
但是可以让编译器自己计算数组的大小, 也就是省略初始化声明中的大小(原理是查找字符串末尾的空字符)
![[Pasted image 20240122190050.png]]
##### 使用数组形式和指针形式定义字符串的不同
首先明确一个概念
程序运行的时候先把程序拷进去内存, 这时候程序位于内存中的静态储存区待命, 运行哪一些代码的时候就把程序拿出来运行
如果使用数组形式定义字符串, 原先字符串是放置在静态储存区, 在运行区创建了个数组, 然后把字符串从静态储存区拷入运行区的数组, 这才完成了定义
如果使用指针形式, 初始化指针只是把字符串的地址拷贝给指针, 指针能直接调用位于静态储存区的字符串
总而言之 就类似于上面的
#为什么需要指针 这里描述的东西, 这两个类似, 字符串也是一个指针
注意: 使用数组形式定义的字符串, 它的数组名是一个常量地址, 这个地址是该字符串的代称

## 字符串
数组和指针的区别
一个是初始化字符数组来储存字符串，另一个是初始化指针来指向字符串！
### 相同之处
- 两个都可以使用数组表示法
- 两个都可以进行指针加法
### 不同之处
只有指针表示法才可以进行递减操作
### 注意
可以使用这样的形式让指针指向数组 即`指针名 = 数组名`, 不能反过来, 因为赋值的左侧是变量(即是可修改的左值), 指针可以修改指向的方向, 但是数组不可修改代表数组的名字所指向的地址(另一种说法, 数组元素是变量, 但是数组名不是变量).
![[Pasted image 20240122191537.png]]
## 字符串输入
### 首先 分配空间
计算机不会进行自动分配空间, 所以要自己来, 不然的话数据会溢出, 误擦写掉程序中的数据和代码
使用`char name[10]`来进行分配空间

### 补充
做字符串测试的时候, 有一种写法可以使用
即:
`while (*string) //string是字符串数组的表示`
当string指向空字符的时候, ``*string``的值是0, 即初始条件为假, while循环结束

## 字符串和中文
首先 先明确一个基础概念
一个字节=八位
在一般的电脑中
- char 1字节
- short 2字节 
- int 4字节
- long 4字节
- long long 8字节

- float 4字节
- double 8字节

c语言使用sizeof来输出一个数据类型占的字节
~~一个汉字字符占用4个字节~~, 这里有误解, 果然还是要学习后面的知识才行啊
"行"是一个字符串, 在c语言中使用char数组来进行储存, 一个汉字为两个char字节, 编译器会自动在末尾加上`\0`, 这里也是一个字节, 所以"行"这个占用了3个字节


strlen来输出字符串的长度, ~~注意这个输出也只是长度!~~ 这个函数给出字符串中的字符长度, 由于字符串一个字节储存一个字符(英文), 所以...
与sizeof不同的是 sizeof 会把字符串中所有的东西都输出, 包括可见和不可见的东西, 比如`\0`
但是strlen只会输出可见的字符串的长度, 包括标点, 这些都是可见的.
这就是为什么使用sizeof输出单个汉字为3字节, 而使用strlen是2长度了吧

而中文一个字为两个长度

反正总而言之, 中文可以使用两个char表示, 占用两个字节, 16位

这里有个误解 char是一个字节并不是表示char只能储存一个数字,  而是可以储存八位数字
所以要储存中文的话, 就要使用

## 储存字符
![[Pasted image 20240130174652.png]]