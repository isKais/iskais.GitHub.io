# 问题和解决 Overview
 
```ccard
type: folder_brief_live
```

白色区域才是蒙版内容!!!
## 为什么要进行图片放大? 
首先是大图没办法生成, 显存需求过大. 直接生成大图会导致(要补充的信息过多, 且没有一个框架)图片错误和发糊, 细节不好看.
所以一般都是先生成小图(例如512x768)在进行高清修复, 补充细节.

高分辨率修复的推荐配置
高分迭代步数: 0
重绘幅度: 0.45
放大倍数: 2

## 我如何查询ai绘图的图片参数
https://spell.novelai.dev/

### 如果参数缺失怎么办
WD14Tagger 反推tag

## 不同参数的图片怎么对比
我该如何研究不同的参数对图片的影响
生成含有不同参数的多张图片
使用x/y图表快速生成不同参数的图片进行对比

## 我该如何分辨模型类型
https://spell.novelai.dev/

## 如何剪裁模型?
![[b5f84f86b3f22e8b7d5febabb38211cb8f991d28.png@2072w_845h_!web-article-pic.webp]]

## 画面会发灰?
部分合并出来的大模型VAE烂掉了, 画面会发灰, 这时候需要你去手动选择vae使用

## 返回黑色图片
1. 最大可能--显存爆了
2. 模型无法理解(描述词太少, 画布太大. 即信息太少, 模型要补充的信息过多, 超过了模型的本身限制)
3. 信息太多, 空间太小(描述词太多了, 画布太小. 即信息太多, 但是可以容纳的空间过于小)
4. Tag出现问题

## 为什么多画了
空间太多了, 描述太少了. 也就是给与模型过多的自由度, 模型在没有提示的情况下会更倾向于把原提示多画几遍. 也就会出现限定了角色数量, 但是出现多个角色.
模型对于数量词其实是没有明确的认知的, 所以单纯限定数量效果并不是那么显著. 
### 怎么解决
增加信息提供, 减少空间. 
1. 增加提示词, 让模型有更多可以画的obj, 也就是降低模型的自由度
2. 减少画布大小--一般会使用High res. fix 但它是利用先在小分辨率渲染再放大到目标分辨率的方法。(这也只是治标不治本)
最符合字面意义的做法还是直接从根源下手。

## 画面偏灰
生成过程中: tile会变灰, vae没有选好等等

结果已定, 该如何改呢? 修改曲线和色阶就好

## 修手
### 生成过程中
1. 最好加上三个embeddings模型badhandv4,EasyNegative,verybadimagenegative_v1.3，减少错误图片的概率之后尝试生成
### 结果处理
1. 第一种是通过controlnet 中的openpose去固定人物姿态，因为固定姿态的同时也能够固定手腕位置，这时候对于手部进行局部重绘指向性就强了一些，不过还是抽奖，如果抽奖的手部对了，但是背景出现了问题，不行在整体进行一下低强度的图生图
2. 第二种呢就是拍一张手部的照片（拿手机拍就行，尽量与图片中问题手部差不多的角度），之后使用depth深度图模型将这张手照片转换为深度图，然后使用PS将转换为深度图的手放到与图片问题手部大概一致的位置，大小也调整好了，然后将更改好的深度图保存。然后通过使用局部重绘之后配合controlnet depth（PS后的手部深度图）去重新生成手
3. 如果你使用的是低分辨的图片，手部变形不太厉害，也可以尝试一下直接加大图片宽高进行低程度的图生图，有时候分辨率高了能纠正一些手部的问题
4. 单独把手部截图出来 做一次重绘放大 再拼接回去 是成功率最高的办法 但是因为涉及截图拼接 需要使用到PS等其他软件 单SD处理，任何办法最后都只是抽卡
5. 修复手部可以用adetailer插件